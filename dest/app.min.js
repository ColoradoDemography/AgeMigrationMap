webpackJsonp([0],[function(t,e,o){"use strict";var r=new Promise(function(t){var e=o(1),r=new e;r.postMessage("start"),r.onmessage=function(e){t(e.data)}});document.addEventListener("DOMContentLoaded",function(){o(2),o(6),o(8),o(10);var t=o(12)(),e=L.map("map",{center:[39,-105.4],zoom:7,layers:[t.nolabel],zoomControl:!1});o(13)(e),o(14)(e),o(15)(e),L.control.zoom({position:"topright"}).addTo(e),o(16)(e,t),r.then(function(t){var r=new Promise(function(r){o(17)(e,t[0],r)});r.then(function(r){o(32)(e,r,t)})})})},function(t,e,o){t.exports=function(){return new Worker(o.p+"/hash.worker.js")}},function(t,e,o){var r=o(3);"string"==typeof r&&(r=[[t.id,r,""]]);o(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,o){e=t.exports=o(4)(),e.push([t.id,".leaflet-modal{visibility:hidden;pointer-events:none}.leaflet-modal .overlay{position:absolute;width:100%;height:100%;display:block;background:#222;opacity:0;filter:alpha(opacity=0);z-index:10001;transition:opacity .75s linear}.leaflet-modal .close{-webkit-appearance:none;padding:10px;right:-5px;cursor:pointer;background:0 0;border:0;float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)}.leaflet-modal .close:hover{opacity:.8;filter:alpha(opacity=80)}.leaflet-modal .modal{display:block;left:auto;margin-right:auto;margin-left:auto;margin-top:auto;position:relative;box-sizing:border-box;z-index:10002;overflow:auto;height:100%}.leaflet-modal .modal-content{padding:0;background:#fff;box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:4px;outline:0;margin:100% auto 40px;max-width:600px}.leaflet-modal.show{width:100%;height:100%;visibility:visible;pointer-events:visible}.leaflet-modal.show .modal-content{margin-top:40px}.leaflet-modal.show .overlay{opacity:.6;filter:alpha(opacity=60)}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var o=this[e];o[2]?t.push("@media "+o[2]+"{"+o[1]+"}"):t.push(o[1])}return t.join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(r[a]=!0)}for(n=0;n<e.length;n++){var i=e[n];"number"==typeof i[0]&&r[i[0]]||(o&&!i[2]?i[2]=o:o&&(i[2]="("+i[2]+") and ("+o+")"),t.push(i))}},t}},function(t,e,o){function r(t,e){for(var o=0;o<t.length;o++){var r=t[o],n=f[r.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](r.parts[a]);for(;a<r.parts.length;a++)n.parts.push(c(r.parts[a],e))}else{for(var i=[],a=0;a<r.parts.length;a++)i.push(c(r.parts[a],e));f[r.id]={id:r.id,refs:1,parts:i}}}}function n(t){for(var e=[],o={},r=0;r<t.length;r++){var n=t[r],a=n[0],i=n[1],l=n[2],s=n[3],c={css:i,media:l,sourceMap:s};o[a]?o[a].parts.push(c):e.push(o[a]={id:a,parts:[c]})}return e}function a(t,e){var o=b(),r=x[x.length-1];if("top"===t.insertAt)r?r.nextSibling?o.insertBefore(e,r.nextSibling):o.appendChild(e):o.insertBefore(e,o.firstChild),x.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");o.appendChild(e)}}function i(t){t.parentNode.removeChild(t);var e=x.indexOf(t);e>=0&&x.splice(e,1)}function l(t){var e=document.createElement("style");return e.type="text/css",a(t,e),e}function s(t){var e=document.createElement("link");return e.rel="stylesheet",a(t,e),e}function c(t,e){var o,r,n;if(e.singleton){var a=v++;o=m||(m=l(e)),r=d.bind(null,o,a,!1),n=d.bind(null,o,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=s(e),r=u.bind(null,o),n=function(){i(o),o.href&&URL.revokeObjectURL(o.href)}):(o=l(e),r=p.bind(null,o),n=function(){i(o)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else n()}}function d(t,e,o,r){var n=o?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,n);else{var a=document.createTextNode(n),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function p(t,e){var o=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}function u(t,e){var o=e.css,r=e.sourceMap;r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var n=new Blob([o],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(n),a&&URL.revokeObjectURL(a)}var f={},g=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},h=g(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),b=g(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,x=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=h()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var o=n(t);return r(o,e),function(t){for(var a=[],i=0;i<o.length;i++){var l=o[i],s=f[l.id];s.refs--,a.push(s)}if(t){var c=n(t);r(c,e)}for(var i=0;i<a.length;i++){var s=a[i];if(0===s.refs){for(var d=0;d<s.parts.length;d++)s.parts[d]();delete f[s.id]}}}};var y=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}()},function(t,e,o){var r=o(7);"string"==typeof r&&(r=[[t.id,r,""]]);o(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,o){e=t.exports=o(4)(),e.push([t.id,".leaflet-bar button,.leaflet-bar button:hover{background-color:#fff;border:none;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar button{background-position:50% 50%;background-repeat:no-repeat;overflow:hidden;display:block}.leaflet-bar button:hover{background-color:#f4f4f4}.leaflet-bar button:first-of-type{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar button:last-of-type{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar.disabled,.leaflet-bar button.disabled{cursor:default;pointer-events:none;opacity:.4}.easy-button-button .button-state{display:block;width:100%;height:100%;position:relative}.leaflet-touch .leaflet-bar button{width:30px;height:30px;line-height:30px}",""])},function(t,e,o){var r=o(9);"string"==typeof r&&(r=[[t.id,r,""]]);o(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,o){e=t.exports=o(4)(),e.push([t.id,"body,head,html{width:100%;height:100%;margin:0;padding:0;overflow-x:hidden!important;overflow-y:hidden!important;font-family:Source Sans Pro,sans-serif}table{letter-spacing:1.5px}#map{width:100%;height:100%;cursor:grab!important;overflow-x:hidden!important;overflow-y:hidden!important}button.ui-button-icon-only{width:24px!important;height:24px!important}.command,.leaflet-container,.title,button,input,keygen,select,table,textarea{font-family:Source Sans Pro,sans-serif}circle{cursor:pointer}path{cursor:grab!important}.btn{color:red;cursor:pointer}a.btn{text-decoration:none;outline:none}a.btn strong{line-height:30px}a.btn:hover{text-decoration:none}a.btn span{z-index:10;display:none;padding:14px 20px;margin-top:-30px;margin-left:28px;line-height:16px}a.btn:hover span{display:inline;position:absolute;color:#111;border:1px solid #dca;background:#fffaf0}.callout{z-index:20;position:absolute;top:0;border:0;left:-12px}a.btn span{border-radius:0;box-shadow:5px 5px 8px #ccc;padding:5px;margin:0}a:hover{color:#c33;text-decoration:underline}.sl{bottom:25px;left:40px}.command{border-radius:10px;background:#fff;border:1px solid #ddd;color:#6e6e6e;font-size:12px;cursor:default}#caption_control{min-height:30px;padding:0 10px;min-width:100px}#caption_control p{padding:0;color:#6e6e6e;font-size:14px;vertical-align:baseline;text-align:center;margin:5px auto 3px}.command input{cursor:pointer}.title h2{cursor:default}li.ui-state-active a,li.ui-tabs-active a{cursor:default!important}.title{border-radius:6px;background:#fff;border:1px solid #ddd;color:#141414;font-size:12px}.spanindent{margin:20px;color:#999}.spanindent a{color:#999}h4{font-size:13px;margin-bottom:1px;margin-top:5px;color:#000}label{display:block;padding-left:15px;text-indent:-15px}input.leg{width:13px;height:13px;padding:0;margin:0;vertical-align:bottom;position:relative;top:-3px;*overflow:hidden}.desctext{color:grey}.modal{cursor:default}h4.command{font-size:13px;margin-bottom:1px;margin-top:5px;color:#323232;padding:0;background:none;border-width:0}.leaflet-control-command-interior{width:260px;height:100px;display:block;padding:3px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;border:1px solid #999;border-color:rgba(0,0,0,.4);box-shadow:none;cursor:default;text-align:center;background-color:#fff;color:rgba(0,0,0,.75);z-index:10}h2{margin:10px}.title h2{margin:0}hr{margin:5px}.bord{padding:10px;border:2px solid #ccc}.modal-inner{padding:20px}table{border:1px solid #ccc;table-layout:fixed;color:#111;font-size:12px;text-shadow:1px 1px 0 #fff;background:#fafafa;margin:5px;border-radius:3px;box-shadow:0 1px 2px #d1d1d1;word-wrap:break-word!important;margin:0 auto}th{background:#eee;text-align:center}td{padding-left:5px;padding-right:5px}#modaltable td{padding-right:15px}a.btn{padding:2px}.h3,h3{font-size:20px}.abbrev td{max-width:50%;padding:2px 10px}.leaflet-div-icon1{border:2px solid hsla(0,0%,100%,.7);color:#fff;text-align:center;border-radius:50%;font-size:16px;line-height:16px}.leaflet-div-icon2{border:1.5px solid hsla(0,0%,100%,.7);color:#fff;text-align:center;border-radius:55%;font-size:11px;line-height:11px}.leaflet-div-icon3{border:1px solid hsla(0,0%,100%,.7);color:#fff;text-align:center;border-radius:60%;font-size:7px;line-height:7px}.abbrev td{font-size:12px}@media (max-width:599px){#slider,.command,.leaflet-control-layers,.title{display:none}.ifmobile{display:visible}.notmobile{display:none}}@media (min-width:600px){#slider,.command,.leaflet-control-layers,.title{display:visible}.ifmobile{display:none}.notmobile{display:visible}}.main_content{width:540px;min-height:50px}.container,.main_content{height:auto;position:relative}.container{width:300px;margin:0 auto;padding:10px}.mbutton{width:125px}.selto{display:none}",""])},function(t,e,o){var r=o(11);"string"==typeof r&&(r=[[t.id,r,""]]);o(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,o){e=t.exports=o(4)(),e.push([t.id,"ul.tab{width:540px;list-style-type:none;margin:0;padding:0;overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}ul.tab li{float:left}ul.tab li a{display:inline-block;color:#000;text-align:center;padding:14px 16px;text-decoration:none;transition:.3s;font-size:17px}ul.tab li a:hover{background-color:#ddd}.active,ul.tab li a:focus{background-color:#ccc}.tabcontent{display:none;width:540px;border:1px solid #ccc;border-top:none;animation:fadeEffect 1s}@keyframes fadeEffect{0%{opacity:0}to{opacity:1}}",""])},function(t,e){"use strict";t.exports=function(){var t={};return t.mbAttr="© <a href='https://www.mapbox.com/map-feedback/'>Mapbox</a> | © <a href='https://www.openstreetmap.org/copyright'><span class='ifmobile'>OSM</span><span class='notmobile'>OpenStreetMap</span> Contributors</a> | <a href='#' id='devcred'>Credits</a><span id='ifmobile' class='ifmobile' ></span>",t.mbUrl="https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic3RhdGVjb2RlbW9nIiwiYSI6Ikp0Sk1tSmsifQ.hl44-VjKTJNEP5pgDFcFPg",t.emerald=L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',tileSize:512,maxZoom:18,zoomOffset:-1,id:"mapbox/outdoors-v11",accessToken:"pk.eyJ1Ijoic3RhdGVjb2RlbW9nIiwiYSI6Ikp0Sk1tSmsifQ.hl44-VjKTJNEP5pgDFcFPg"}),t.classic=L.tileLayer(t.mbUrl,{id:"mapbox.streets-basic",attribution:t.mbAttr}),t.light=L.tileLayer(t.mbUrl,{id:"mapbox.light",attribution:t.mbAttr}),t.nolabel=L.tileLayer("https://api.mapbox.com/styles/v1/statecodemog/ciq0yl9wf000ebpndverm5ler/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoic3RhdGVjb2RlbW9nIiwiYSI6Ikp0Sk1tSmsifQ.hl44-VjKTJNEP5pgDFcFPg",{attribution:t.mbAttr}),t}},function(t,e){"use strict";t.exports=function(t){var e=L.control({position:"bottomright"});e.onAdd=function(){var t=L.DomUtil.create("div","title bord");return t.id="legend-control",t.innerHTML="Loading Data, Please Wait",t.style.color="#d00",t},e.addTo(t)}},function(t,e){"use strict";t.exports=function(t){var e='<table class="abbrev"><h3>Development Credits</h3><ul><li><a href="http://leafletjs.com/" target="_blank">Leaflet Mapping Library</a> - <a href="http://agafonkin.com/en/" target="_blank">Vladimir Agafonkin</a></li><li><a href="https://d3js.org/" target="_blank">D3 Data Visualization Library</a> - <a href="https://bost.ocks.org/mike/" target="_blank">Mike Bostock</a></li><li><a href="https://github.com/teralytics/Leaflet.D3SvgOverlay" target="_blank">Leaflet D3 Overlay Plugin</a> - <a href="http://www.teralytics.net/" target="_blank">Teralytics</a></li><li><a href="https://github.com/w8r/Leaflet.Modal" target="_blank">Leaflet Modal Plugin</a> - Alexander Milevski</li><li><a href="https://github.com/eligrey/FileSaver.js" target="_blank">FileSaver Plugin</a> - <a href="https://eligrey.com/" target="_blank">Eli Grey</a></li><li><a href="https://github.com/fgnass/spin.js" target="_blank">Spin.js</a> - <a href="https://twitter.com/fgnass" target="_blank">Felix Gnass</a></li><li><a href="https://github.com/makinacorpus/Leaflet.Spin" target="_blank">Leaflet Spin</a> - <a href="http://makina-corpus.com/" target="_blank">Makina Corpus</a></li><li><a href="https://github.com/exupero/saveSvgAsPng" target="_blank">SaveSvgAsPng</a> - <a href="http://exupero.org/" target="_blank">Eric Shull</a></li><li><a href="https://github.com/CliffCloud/Leaflet.EasyButton" target="_blank">Leaflet Easy Button</a> - <a href="http://danielmontague.com/" target="_blank">Daniel Montague</a></li><li><a href="https://github.com/FortAwesome/Font-Awesome" target="_blank">Font Awesome</a> - <a href="https://twitter.com/davegandy" target="_blank">Dave Gandy</a></li><li><a href="" target="_blank">Waterfall Chart</a></ul><p>This Application works best on Chrome, Firefox, Safari, Internet Explorer (versions 10+), and Microsoft Edge.  It has been tested on a limited number of mobile devices.<p>',o=function(){t.openModal({content:e})},r=function(){var t=document.getElementById("devcred");t.addEventListener("click",o)};r(),t.on("baselayerchange",function(){r()})}},function(t,e){"use strict";t.exports=function(t){var e=L.control({position:"topleft"});e.onAdd=function(){var t=L.DomUtil.create("div","title bord");return t.innerHTML="<h2>Migration by Age Groups</h2>",t},e.addTo(t)}},function(t,e){"use strict";t.exports=function(t,e){var o={Default:e.nolabel,"Mapbox Emerald":e.emerald};L.control.layers(o,null).addTo(t)}},function(t,e,o){"use strict";t.exports=function(t,e,r){var n=o(18),a=o(30),i=new L.geoJson(null,{style:function(){return{weight:1,color:"grey",fillOpacity:0}},onEachFeature:function(o,r){r.on("click",function(o){n(o,e,t)}),r.on("mouseover",function(t){r.setStyle({opacity:1,weight:2,color:"cyan"}),L.Browser.ie||L.Browser.opera||r.bringToFront(),a(t,e)}),r.on("mouseout",function(){document.getElementById("caption_control").innerHTML="<p></p>",r.setStyle({opacity:1,weight:1,color:"grey"})})}}).addTo(t),l=new XMLHttpRequest;l.open("GET","data/counties.geojson"),l.send(null),l.onreadystatechange=function(){if(4===l.readyState){var e=JSON.parse(l.responseText);i.addData(e),o(31)(t),r(i)}}}},function(t,e,o){"use strict";var r=o(19)(),n=o(20),a=o(21);t.exports=function(t,e,i){var l=n();a(e,l[0],function(e){var n=new r(e),a="<ul id='tabbedbrowsing' class='tab'><li><a href='#' id='tab_table' class='tablinks active'>Table</a></li><li><a href='#' id='tab_chart' class='tablinks'>Chart</a></li></ul><div id='tablediv' class='tabcontent' style='display: block;'><br /><h2 style='text-align: center'>"+t.target.feature.properties.NAME+" County,&nbsp;&nbsp;"+n.first_year+" to "+n.last_year+"</h2><br /><table id='modaltable'>",s=parseInt(t.target.feature.properties.COUNTYFP,10),c=" style='font-weight: 900'";a+="<tr><th>Statistic</th><th>Value</th><th>Percent</th></tr>",a+="<tr><td>Population "+n.first_year+":</td><td style='text-align: right'>"+parseInt(n.retrieveCountyPop(s,n.first_year)).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td></td></tr>",a+="<tr><td>Population "+n.last_year+":</td><td style='text-align: right'>"+parseInt(n.retrieveCountyPop(s,n.last_year)).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td></td></tr>",a+="<tr"+("1"===l[1]||"2"===l[1]?c:"")+"><td>Total Population Change:</td><td style='text-align: right'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+n.retrieveTtlPopChg(s).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td style='text-align: right'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+parseFloat(n.retrievePctPopChg(s)).toLocaleString(void 0,{maximumFractionDigits:1})+" %</td></tr>",a+="<tr"+("3"===l[1]||"4"===l[1]?c:"")+"><td>Avg Population Change:</td><td style='text-align: right'>"+n.retrieveAvgPopChg(s).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td style='text-align: right'>"+parseFloat(n.retrieveAvgPctPopChg(s)).toLocaleString(void 0,{maximumFractionDigits:1})+" %</td></tr>",a+="<tr"+("9"===l[1]?c:"")+"><td>Total Births:</td><td style='text-align: right'>"+n.retrieveTtlBirths(s).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td></td></tr>",a+="<tr"+("5"===l[1]?c:"")+"><td>Birth Rate per 1,000 Pop:</td><td style='text-align: right'>"+n.retrieveBirthRate(s).toLocaleString(void 0,{maximumFractionDigits:1})+"</td><td></td></tr>",a+="<tr"+("10"===l[1]?c:"")+"><td>Total Deaths:</td><td style='text-align: right'>"+n.retrieveTtlDeaths(s).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td></td></tr>",a+="<tr"+("6"===l[1]?c:"")+"><td>Death Rate per 1,000 Pop:</td><td style='text-align: right'>"+n.retrieveDeathRate(s).toLocaleString(void 0,{maximumFractionDigits:1})+"</td><td></td></tr>",a+="<tr"+("11"===l[1]||"7"===l[1]?c:"")+"><td>Total Natural Increase:</td><td style='text-align: right'>"+n.retrieveNatIncrease(s).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td style='text-align: right'>"+n.retrieveRateNaturalIncrease(s).toLocaleString(void 0,{maximumFractionDigits:2})+" %</td></tr>",a+="<tr"+("12"===l[1]?c:"")+"><td>Total Migration:</td><td style='text-align: right'>"+n.retrieveTtlMigration(s).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td></td></tr>",a+="<tr"+("8"===l[1]?c:"")+"><td>Migration Rate per 1,000:&nbsp;&nbsp;&nbsp;</td><td style='text-align: right'>"+n.retrieveMigrationRate(s).toLocaleString(void 0,{maximumFractionDigits:1})+"</td><td></td></tr>",a+="</table><br /><div class='main_content'><div class='container'><button class='mbutton' id='dlthis'>Download Table</button><button class='mbutton' id='dlall' style='float: right;'>Download All Data</button></div></div><br /></div><div id='chartdiv' class='tabcontent'><br /><div id='chart_wrapper'><svg id='wf_chart'></svg></div><br /><div class='main_content'><div class='container'><button class='mbutton' id='t_download'>Download PNG</button><button class='mbutton' id='f_download' style='float: right;'>Full Size PNG</button></div></div><br /></div>",i.openModal({content:a}),o(22)(n,s,t.target.feature.properties.NAME+" County,  "+n.first_year+" to "+n.last_year),o(25)(n,t)})}},function(t,e){"use strict";t.exports=function(){var t=function(t){function e(t){var e=$.ajax({url:"https://storage.googleapis.com/co-publicdata/agemigration_1970_2010SDO.json",dataType:"json",async:!1});return console.log("https://storage.googleapis.com/co-publicdata/agemigration_1970_2010SDO.json"),e.responseJSON}console.log("Passed");var o=[1,3,5,7,9,11,13,14,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125];this.data=t,this.alldata=this.data;var r=function(){for(var e=5e3,o=0;o<t.length;o++)t[o].year<e&&(e=t[o].year);return e}();this.first_year=r;e(r);this.retrieveCountyPop=function(e,o){for(var r=0,n=0;n<t.length;n++)t[n].countyfips===e&&t[n].year===o&&(r+=parseInt(t[n].netmigration));return r},this.retrieveCountyXPop=function(e,o){for(var r=0,n=0;n<t.length;n++)t[n].countyfips===e&&t[n].year===o&&(r+=parseInt(t[n].population));return r},this.getMaxTtl=function(){for(var t=-(1/0),e=0;e<o.length;e++){var n=this.retrieveCountyPop(o[e],r);n>t&&(t=n)}return t},this.getMinTtl=function(){for(var t=1/0,e=0;e<o.length;e++){var n=this.retrieveCountyPop(o[e],r);n<t&&(t=n)}return t},this.getMedianTotalPop=function(){for(var t=[],e=0;e<o.length;e++){var r=parseFloat(this.retrieveTtlPop(o[e]));t.push(r)}t.sort(function(t,e){return t-e});var n=Math.floor(t.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2},this.retrieveTtlPop=function(t){return this.retrieveCountyPop(t,r)},this.retrieveXTtlPop=function(t){return this.retrieveXCountyPop(t,r)},this.retrieveCountyMigrationRate=function(e,o){for(var r=0,n=0,a=0;a<t.length;a++)t[a].countyfips===e&&t[a].year===o&&(r+=Number(t[a].netmigration),n+=Number(t[a].population));return r/n*1e3},this.getMaxMRTtl=function(){for(var t=-(1/0),e=0;e<o.length;e++){var n=this.retrieveCountyMigrationRate(o[e],r);n>t&&(t=n)}return console.log("Max value: "+t),t},this.getMinMRTtl=function(){for(var t=1/0,e=0;e<o.length;e++){var n=this.retrieveCountyMigrationRate(o[e],r);n<t&&(t=n)}return console.log("Min value: "+t),t},this.getMedianMR=function(){for(var t=[],e=0;e<o.length;e++){var r=parseFloat(this.retrieveCountyMigrationRate(o[e]));t.push(r)}t.sort(function(t,e){return t-e});var n=Math.floor(t.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2},this.retrieveMigrationRate=function(t){for(var e=0,o=r;o<r+1;o++)e=this.retrieveCountyMigrationRate(t,o);return e.toFixed(2)}};return t}},function(t,e){"use strict";t.exports=function(){var t="",e="",o="",r="",n=document.getElementById("stat");if(null===n)t="2010",e="1000",o="3",r="0 to 4";else{var a=document.getElementById("selfrom");t=parseInt(a.options[a.selectedIndex].value),o=n.options[n.selectedIndex].value}for(var i="",l=t;l<=e;l++)l!==t&&(i+=","),i+=l;""===i&&(i=String(t));for(var s=document.getElementById("agegroups"),c=s.selectedOptions,d=0;d<c.length;d++)0!==d&&(r+=","),r+=c[d].value;return""===r&&(r="0 to 4"),[r,i,o]}},function(t,e){"use strict";t.exports=function(t,e,o,r){var n=e.split(","),a=o.split(","),i=t.filter(function(t){for(var e=0;e<n.length;e++)for(var o=0;o<a.length;o++)if(t.age===n[e]&&t.year===parseInt(a[o]))return console.log("True"),!0;return!1});console.log("Filtered Data"),console.log(i),r&&r(i)}},function(t,e,o){"use strict";var r=o(23)();t.exports=function(t,e,n){function a(t){var e=t+u,o=u;return e>c&&(o=u-(e-c)),o}function i(t,e){var o=t+1*u,r=t+e*u;return o>c&&(r=t+(u-(o-c))*e),r}var l=o(24),s=t.first_year,c=t.last_year,d=[],p=d3.format(",.0f"),u=1;c-s>10&&(u=2),c-s>20&&(u=3),c-s>30&&(u=4),c-s>40&&(u=5),d.push({x:s,class:"total",value:Number(t.retrieveCountyPop(e,s)),title:s+" Population: "+p(Number(t.retrieveCountyPop(e,s))),barscale:u});for(var f=function(o){for(var r=0,n=o+1;n<=o+u;n++)r+=Number(t.retrieveCountyBirths(e,n));return r},g=function(o){for(var r=0,n=o+1;n<=o+u;n++)r+=-Number(t.retrieveCountyDeaths(e,n));return r},h=function(o){for(var r=0,n=o+1;n<=o+u;n++)r+=Number(t.retrieveCountyMigration(e,n));return r},b=function(t){if(1===u)return t;var e=t+1*u;return e>c?t===c-1?t:t+" - "+(c-1):t+" - "+(e-1)},m=function(o){d.push({x:i(o,.25),value:f(o),class:"birth",title:b(o)+" Births: "+p(f(o)),barscale:a(o)}),d.push({x:i(o,.5),value:g(o),class:"death",title:b(o)+" Deaths: "+p(-g(o)),barscale:a(o)}),d.push({x:i(o,.75),value:h(o),class:"migration",title:b(o)+" Migration: "+p(h(o)),barscale:a(o)}),d.push({x:function(){var t=o+1*u;return t>c&&(t=c),t}(),value:0,class:"total",title:function(){var r=o+1*u;return r>c?c+" Population: "+p(Number(t.retrieveCountyPop(e,c))):o+1*u+" Population: "+p(Number(t.retrieveCountyPop(e,o+1*u)))}(),barscale:function(){var t=o+u,e=u;return t>c?e=u-(t-c):t+u>c&&(e=c-t,0===e&&(e=u)),e}()})},v=s;v<c;v+=u)m(v);var x=new r;x.title.text=n;var y=new r;y.chart.width=800,y.chart.height=600,y.title.text=n;var w=l("#wf_chart",d,x);w();var _=l("#full_chart",d,y);_()}},function(t,e){"use strict";t.exports=function(){var t=function(){this.chart={},this.chart.width=520,this.chart.height=350,this.chart.font_family="'Source Sans Pro', sans-serif",this.chart.bar_padding=.9,this.margin={},this.margin.top=50,this.margin.right=10,this.margin.bottom=90,this.margin.left=80,this.title={},this.title.text="",this.title.font_size=20,this.title.font_weight=500,this.x_label={},this.x_label.text="Year",this.x_label.font_size=14,this.x_label.font_weight=500,this.y_label={},this.y_label.text="Population",this.y_label.font_size=14,this.y_label.font_weight=500,this.legend=[{class:"total",fill:"steelblue",fill_opacity:.3,stroke:"steelblue",stroke_opacity:.5,stroke_width:1,label:"Totals"},{class:"birth",fill:"darkolivegreen",fill_opacity:.2,stroke:"darkolivegreen",stroke_opacity:1,stroke_width:1,label:"Births"},{class:"death",fill:"crimson",fill_opacity:.2,stroke:"crimson",stroke_opacity:1,stroke_width:1,label:"Deaths"},{class:"migration",fill:"grey",fill_opacity:.2,stroke:"grey",stroke_opacity:1,stroke_width:1,label:"Migration"}]};return t}},function(t,e){"use strict";t.exports=function(t,e,o){return function(){function r(t,e,o){for(var r=e,n=0;n<w.length;n++)t.class===w[n].class&&(r=w[n][o]);return r}for(var n=o.chart.width||520,a=o.chart.height||350,i=o.chart.font_family||"sans-serif",l=o.chart.bar_padding||.9,s=o.margin.top||50,c=o.margin.right||10,d=o.margin.bottom||90,p=o.margin.left||80,u=o.title.text||"",f=o.title.font_size||20,g=o.title.font_weight||500,h=o.x_label.text||"",b=o.x_label.font_size||14,m=o.x_label.font_weight||500,v=o.y_label.text||"",x=o.y_label.font_size||14,y=o.y_label.font_weight||500,w=o.legend||[],_=e[0].x,k=e[e.length-1].x,L=d3.max(e,function(t){return t.barscale})||1,M=0,S=0;S<e.length;S++)e[S].start=M,M+=e[S].value,e[S].end=M;var P=d3.min(e,function(t){return t.end});P=parseInt(.85*P,10);for(var T=0;T<e.length;T++)"total"===e[T].class&&(e[T].start=P);var E=n-p-c,D=a-s-d,F=E/((k-_)*w.length+1);d3.select(t).append("defs").append("pattern").attr("id","diagonalHatch").attr("patternUnits","userSpaceOnUse").attr("width",4).attr("height",4).append("path").attr("d","M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2").attr("stroke","rgb(70,70,70)").attr("stroke-width",.4);var C=d3.scale.linear().range([0,E]),R=d3.scale.linear().range([D,0]),I=d3.svg.axis().scale(C).orient("bottom").ticks(parseInt((k-_)/L)).tickFormat(d3.format("d")),B=d3.svg.axis().scale(R).orient("left"),N=d3.select(t).attr("width",E+p+c).attr("height",D+s+d).append("rect").attr("width","100%").attr("height","100%").attr("fill","#fff"),O=d3.select(t).append("g").attr("transform","translate("+p+","+s+")");C.domain([_,k+1/w.length*L]),R.domain([P,d3.max(e,function(t){return t.end})]),O.append("g").attr("class","x axis").attr("transform","translate(0,"+D+")").call(I).selectAll("text").attr("y",0).attr("x",9).attr("transform","rotate(90)").style("text-anchor","start"),O.append("g").attr("class","y axis").call(B),O.selectAll(".axis text").style("font-size","10px"),O.selectAll(".axis path, .axis line").style("fill","none").style("stroke","#000").attr("shape-rendering","crispEdges");var A=O.selectAll(".bar").data(e).enter().append("g").attr("class",function(t){return"bar "+t.class}).attr("transform",function(t){return"translate("+C(t.x)+",0)"}),z=A.append("rect").attr("y",function(t){return R(Math.max(t.start,t.end))}).attr("height",function(t){return Math.abs(R(t.start)-R(t.end))}).attr("width",function(t){return t.barscale?F*t.barscale*l:F*l}).style("fill",function(t){return r(t,"grey","fill")}).style("fill-opacity",function(t){return r(t,.2,"fill_opacity")}).style("stroke-width",function(t){return r(t,1,"stroke_width")}).style("stroke",function(t){return r(t,"grey","stroke")}).style("stroke-opacity",function(t){return r(t,1,"stroke_opacity")}).on("mouseover",function(){d3.select(this).style("fill-opacity",1)}).on("mouseout",function(){d3.select(this).style("fill-opacity",function(t){return r(t,.2,"fill_opacity")})});if(A.append("rect").attr("y",function(t){return R(Math.max(t.start,t.end))}).attr("height",function(t){return Math.abs(R(t.start)-R(t.end))}).attr("width",function(t){return t.barscale?F*t.barscale*l:F*l}).style("fill",function(t){return t.value<0?"url(#diagonalHatch)":"rgba(255,255,255,0)"}).style("pointer-events","none"),z.append("svg:title").text(function(t){return t.title||""}),o.legend&&o.legend!==[]){var U=O.selectAll(".legend").data(o.legend).enter().append("g").attr("class","legend");U.append("rect").attr("x",function(t,e){return e*(E/w.length)}).attr("y",D+70).attr("width",12).attr("height",12).style("fill",function(t){return t.fill}).style("fill-opacity",function(t){return t.fill_opacity}).style("stroke",function(t){return t.stroke}).style("stroke-opacity",function(t){return t.stroke_opacity}).style("stroke-width",function(t){return t.stroke_width}),U.append("text").attr("x",function(t,e){return 20+e*(E/w.length)}).attr("y",D+77).style("text-anchor","left").text(function(t){return t.label})}""!==u&&d3.select(t).append("text").attr("x",E/2+p).attr("y",s/2+f/2).style("text-anchor","middle").style("font-size",f+"px").style("font-weight",g).text(u),""!==h&&d3.select(t).append("text").attr("x",E/2+p).attr("y",D+s+50).style("text-anchor","middle").style("font-size",b).style("font-weight",m).text(h),""!==v&&d3.select(t).append("text").style("text-anchor","middle").style("font-size",x).style("font-weight",y).attr("transform","translate(20,"+(D/2+s)+") rotate(270)").text(v),O.selectAll("text").style("font-family",i).attr("text-rendering","optimizeLegibility"),N.attr("width","100%").attr("height","100%").attr("fill","#fff")}}},function(t,e,o){"use strict";var r=o(26);t.exports=function(t,e){function o(){var t=document.querySelector("#tabbedbrowsing");t.style.display="none"}function n(t,e){var o,r,n;for(r=document.getElementsByClassName("tabcontent"),o=0;o<r.length;o++)r[o].style.display="none";for(n=document.getElementsByClassName("tablinks"),o=0;o<n.length;o++)n[o].className=n[o].className.replace(" active","");document.getElementById(e).style.display="block",t.currentTarget.className+=" active"}document.getElementById("dlthis").addEventListener("click",function(){var o=e.target.feature.properties.NAME.replace(/\s/g,"");r("modaltable",o+"_"+t.first_year+"_"+t.last_year)},!1),document.getElementById("dlall").addEventListener("click",function(){window.location.href="https://storage.googleapis.com/co-publicdata/components-change-county.csv"},!1),document.getElementById("t_download").addEventListener("click",function(){var t=document.getElementById("wf_chart");saveSvgAsPng(t,"waterfall.png")},!1),document.getElementById("f_download").addEventListener("click",function(){var t=document.getElementById("full_chart");saveSvgAsPng(t,"waterfall_lrg.png")},!1),document.getElementById("tab_table").addEventListener("click",function(t){n(t,"tablediv")},!1),document.getElementById("tab_chart").addEventListener("click",function(t){n(t,"chartdiv")},!1),document.querySelector(".close").addEventListener("click",function(){o()},!1),document.querySelector("div.modal").addEventListener("mousedown",function(){o()},!1)}},function(t,e,o){"use strict";var r=o(27).saveAs;t.exports=function(t,e){var o="",n=0,a=document.getElementById(t),i=a.rows.length;for(n=0;n<i;n++)for(var l=a.rows.item(n).cells,s=l.length,c=0;c<s;c++)0===c&&n>0&&(o+="\n"),o=o+'"'+l.item(c).innerHTML+'"',c<s&&(o+=",");
o=o.replace(/&nbsp;/g,"");var d=new Blob([o],{type:"text/csv;charset=utf-8"});r(d,e+".csv")}},function(t,e,o){var r,n,a=a||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,o=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in r,a=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},i=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),l=t.webkitRequestFileSystem,s=t.requestFileSystem||l||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},d="application/octet-stream",p=0,u=500,f=function(e){var r=function(){"string"==typeof e?o().revokeObjectURL(e):e.remove()};t.chrome?r():setTimeout(r,u)},g=function(t,e,o){e=[].concat(e);for(var r=e.length;r--;){var n=t["on"+e[r]];if("function"==typeof n)try{n.call(t,o||t)}catch(t){c(t)}}},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},b=function(e,c,u){u||(e=h(e));var b,m,v,x=this,y=e.type,w=!1,_=function(){g(x,"writestart progress write writeend".split(" "))},k=function(){if(m&&i&&"undefined"!=typeof FileReader){var r=new FileReader;return r.onloadend=function(){var t=r.result;m.location.href="data:attachment/file"+t.slice(t.search(/[,;]/)),x.readyState=x.DONE,_()},r.readAsDataURL(e),void(x.readyState=x.INIT)}if(!w&&b||(b=o().createObjectURL(e)),m)m.location.href=b;else{var n=t.open(b,"_blank");void 0==n&&i&&(t.location.href=b)}x.readyState=x.DONE,_(),f(b)},L=function(t){return function(){if(x.readyState!==x.DONE)return t.apply(this,arguments)}},M={create:!0,exclusive:!1};return x.readyState=x.INIT,c||(c="download"),n?(b=o().createObjectURL(e),void setTimeout(function(){r.href=b,r.download=c,a(r),_(),f(b),x.readyState=x.DONE})):(t.chrome&&y&&y!==d&&(v=e.slice||e.webkitSlice,e=v.call(e,0,e.size,d),w=!0),l&&"download"!==c&&(c+=".download"),(y===d||l)&&(m=t),s?(p+=e.size,void s(t.TEMPORARY,p,L(function(t){t.root.getDirectory("saved",M,L(function(t){var o=function(){t.getFile(c,M,L(function(t){t.createWriter(L(function(o){o.onwriteend=function(e){m.location.href=t.toURL(),x.readyState=x.DONE,g(x,"writeend",e),f(t)},o.onerror=function(){var t=o.error;t.code!==t.ABORT_ERR&&k()},"writestart progress write abort".split(" ").forEach(function(t){o["on"+t]=x["on"+t]}),o.write(e),x.abort=function(){o.abort(),x.readyState=x.DONE},x.readyState=x.WRITING}),k)}),k)};t.getFile(c,{create:!1},L(function(t){t.remove(),o()}),L(function(t){t.code===t.NOT_FOUND_ERR?o():k()}))}),k)}),k)):void k())},m=b.prototype,v=function(t,e,o){return new b(t,e,o)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,o){return o||(t=h(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(m.abort=function(){var t=this;t.readyState=t.DONE,g(t,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,v)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=a:null!==o(28)&&null!=o(29)&&(r=[],n=function(){return a}.apply(e,r),!(void 0!==n&&(t.exports=n)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,o){"use strict";var r=o(19)(),n=o(20),a=o(21);t.exports=function(t,e){var o=n();a(e,o[0],o[1],function(e){var n,a=new r(e),i=parseInt(t.target.feature.properties.COUNTYFP,10),l=o[2];"3"===l&&(n=parseFloat(a.retrievePctPopChg(i)).toLocaleString(void 0,{maximumFractionDigits:1})+" %"),"4"===l&&(n=a.retrievePctPop(i).toLocaleString(void 0,{maximumFractionDigits:0})+" %"),"1"===l&&(n=parseFloat(a.retrieveTtlPop(i)).toLocaleString(void 0,{maximumFractionDigits:0})),"2"===l&&(n=a.retrieveMigrationRate(i).toLocaleString(void 0,{maximumFractionDigits:1})),"9"===l&&(n=a.retrieveTtlBirths(i).toLocaleString(void 0,{maximumFractionDigits:0})),"5"===l&&(n=a.retrieveBirthRate(i).toLocaleString(void 0,{maximumFractionDigits:1})),"10"===l&&(n=a.retrieveTtlDeaths(i).toLocaleString(void 0,{maximumFractionDigits:0})),"6"===l&&(n=a.retrieveDeathRate(i).toLocaleString(void 0,{maximumFractionDigits:1})),"11"===l&&(n=a.retrieveNatIncrease(i).toLocaleString(void 0,{maximumFractionDigits:0})),"7"===l&&(n=a.retrieveRateNaturalIncrease(i).toLocaleString(void 0,{maximumFractionDigits:2})+" %"),"12"===l&&(n=a.retrieveTtlMigration(i).toLocaleString(void 0,{maximumFractionDigits:0})),"8"===l&&(n=a.retrieveMigrationRate(i).toLocaleString(void 0,{maximumFractionDigits:1})),document.getElementById("caption_control").innerHTML="<p>"+t.target.feature.properties.NAME+":&nbsp;&nbsp;&nbsp;"+n+"</p>"})}},function(t,e){"use strict";t.exports=function(t){d3.json("data/county_pts.json",function(e,o){var r=o.map(function(t){return{cname:t.cname,fips:t.fips,latitude:t.y,longitude:t.x,coordinates:L.latLng(t.y,t.x)}}),n=L.d3SvgOverlay(function(t,e){var o=function(t){return t.fips},n=t.selectAll("text").data(r,o);n.enter().append("text").style("text-anchor","middle").style("color","#000").style("font-family","'Source Sans Pro', sans-serif").style("font-size","8pt").style("font-weight","bold").style("text-transform","uppercase").style("text-shadow","1px 1px 0 #fff").style("text-shadow","-1px 1px 0 #fff").style("text-shadow","1px -1px 0 #fff").style("text-shadow","-1px -1px 0 #fff").attr("x",function(t){return e.latLngToLayerPoint(t.coordinates).x}).attr("y",function(t){return e.latLngToLayerPoint(t.coordinates).y}).text(function(t){return t.cname}).style("pointer-events","none");var a=function(t){var o=d3.select(this),r=t.cname.split("|");o.text("");for(var n=0;n<r.length;n++){var a=o.append("tspan").text(r[n]);n>0&&a.attr("x",e.latLngToLayerPoint(t.coordinates).x).attr("dy","10")}};n.each(a)});t.addLayer(n)})}},function(t,e,o){"use strict";var r=o(33);t.exports=function(t,e,n){function a(){var t=location.search.substr(1),e={};return t.split("&").forEach(function(t){var o=t.split("=");e[o[0]]=decodeURIComponent(o[1])}),e}function i(){var t=$("#selfrom").val();"1970"==t||"1980"==t?$("#agegroups [value='75_79']").hide():$("#agegroups [value='75_79']").show()}var l=L.control({position:"topleft"}),s=n[0];l.onAdd=function(){var t=L.DomUtil.create("div","command bord");return t.innerHTML="Statistic:<br /><select id='stat'><option value='1'>Net Migrants</option><option value='2'>Migration Rate per 1,000</option></select><br /><br /><span>Decade:</span>&nbsp;&nbsp;<select id='selfrom'><option value='1970'>1970s</option><option value='1980'>1980s</option><option value='1990'>1990s</option><option value='2000'>2000s</option><option value='2010' selected>2010s</option></select><br /><br />Select Age Groups:<br /><select multiple size='15' id='agegroups'><option value='00_04' selected>0 to 4</option><option value='05_09'>5 to 9</option><option value='10_14'>10 to 14</option><option value='15_19'>15 to 19</option><option value='20_24'>20 to 24</option><option value='25_29'>25 to 29</option><option value='30_34'>30 to 34</option><option value='35_39'>35 to 39</option><option value='40_44'>40 to 44</option><option value='45_49'>45 to 49</option><option value='50_54'>50 to 54</option><option value='55_59'>55 to 59</option><option value='60_64'>60 to 64</option><option value='65_69'>65 to 69</option><option value='70_74'>70 to 74</option><option value='75_79'>75 to 79</option></select><br /><p>Data for older age groups is unavailable. <br>Data for Broomfield before 2000 and <br>Arapahoe 1970s is unavailable.</p><p>Source: Colorado State Demography Office and<br>Applied Population Lab, Univ. of Wisconsin - Madison<br><a href=https://storage.googleapis.com/co-publicdata/Colorado_Age_Migration_By_Decade.csv>Download the data</a></p>",t.padding="20px",t},l.addTo(t),document.getElementById("stat").addEventListener("change",function(){r(e,s);document.getElementById("stat");console.log(s)},!1),document.getElementById("selfrom").addEventListener("change",function(){r(e,s),console.log(s),console.log("selfrom")},!1),document.getElementById("agegroups").addEventListener("change",function(){r(e,s)},!1);var c=document.getElementsByClassName("leaflet-control-container")[0];c.addEventListener("dblclick",function(t){t=t||window.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}),c.addEventListener("mousemove",function(t){t=t||window.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0});var d=a();if("print"in d&&"stat"in d&&"from"in d&&"to"in d&&"age"in d){t.panTo(L.latLng(39.35,-104.3));var p=document.querySelector('#stat [value="'+d.stat+'"]');p.selected=!0;var u=document.querySelector('#selfrom [value="'+d.from+'"]');u.selected=!0;var f=document.querySelectorAll("select#agegroups option");d.age.split(",").forEach(function(t){for(var e=0;e<f.length;e++)t.indexOf(f[e].value)!=-1&&f[e].setAttribute("selected","selected")}),document.getElementsByClassName("command")[0].style.display="none",document.getElementsByClassName("leaflet-top leaflet-right")[0].style.display="none";var g=document.getElementById("stat");g.options[g.selectedIndex].text,document.querySelector(".title h2"),document.getElementById("selfrom");console.log(g),r(e,s)}else{var h=document.querySelector('#selfrom [value="2010"]');h.selected=!0,r(e,s),o(36)(t)}$(document).ready(function(){$("#selfrom").change(function(){i()})})}},function(t,e,o){"use strict";var r=o(19)(),n=o(20),a=o(21),i=o(34);t.exports=function(t,e){var o=n();console.log(o),a(e,o[0],o[1],function(e){var n=new r(e);i(t,n,o[2])})}},function(t,e,o){"use strict";var r=o(35);t.exports=function(t,e,o){var n,a,i,l,s,c=[];"3"===o&&(n=e.getMaxPctChange(),a=e.getMinPctChange(),c=[.5*a,.35*a,.2*a,.1*a,0,.1*n,.2*n,.35*n,.5*n,.75*n],a>0&&(a=-n)),"5"===o&&(n=e.getMaxTtlChange(),a=e.getMinTtlChange(),c=[.4*a,.25*a,.1*a,.05*a,0,.05*n,.1*n,.2*n,.35*n,.5*n],a>0&&(a=-n)),"1"===o&&(n=e.getMaxTtl(),a=e.getMinTtl(),i=e.getMedianTotalPop(),l=i-a,s=n-i,c=[.4*a,.25*a,.1*a,.05*a,0,.05*n,.1*n,.2*n,.35*n,.5*n],a>0&&(a=-n)),"4"===o&&(n=100*e.getMaxPctPop(),a=100*e.getMinPctPop(),i=e.getMedianPctPop(),l=i-a,s=n-i,c=[a+.4*l,a+.6*l,a+.8*l,a+.9*l,i,i+s*(1/12),i+s*(1/6),i+s*(2/6),i+.5*s,i+s*(4/6)]),"8"===o&&(n=e.getMaxBirthRate(),a=e.getMinBirthRate(),i=e.getMedianBirthRate(),l=i-a,s=n-i,c=[a+.4*l,a+.6*l,a+.8*l,a+.9*l,i,i+s*(1/12),i+s*(1/6),i+s*(2/6),i+.5*s,i+s*(4/6)]),"6"===o&&(n=e.getMaxDeathRate(),a=e.getMinDeathRate(),i=e.getMedianDeathRate(),l=i-a,s=n-i,c=[a+.4*l,a+.6*l,a+.8*l,a+.9*l,i,i+s*(1/12),i+s*(1/6),i+s*(2/6),i+.5*s,i+s*(4/6)]),"7"===o&&(n=e.getMaxRateNaturalIncrease(),a=e.getMinRateNaturalIncrease(),c=[.5*a,.35*a,.2*a,.1*a,0,.1*n,.2*n,.35*n,.5*n,.75*n]),"2"===o&&(n=e.getMaxMRTtl(),a=e.getMinMRTtl(),c=[.5*a,.35*a,.2*a,.1*a,0,.1*n,.2*n,.35*n,.5*n,.75*n],a>0&&(a=-n)),r(a,n,o,c),t.setStyle(function(t){var r,n=parseInt(t.properties.COUNTYFP);return"8"===o&&(r=e.retrievePctPopChg(n)),"1"===o&&(r=e.retrieveTtlPop(n)),"4"===o&&(r=e.retrievePctPop(n)),"5"===o&&(r=e.retrieveBirthRate(n)),"6"===o&&(r=e.retrieveDeathRate(n)),"7"===o&&(r=e.retrieveRateNaturalIncrease(n)),"2"===o&&(r=e.retrieveMigrationRate(n)),"9"===o&&(r=e.retrieveTtlBirths(n)),"10"===o&&(r=e.retrieveTtlDeaths(n)),"11"===o&&(r=e.retrieveNatIncrease(n)),"12"===o&&(r=e.retrieveTtlMigration(n)),r>-(1/0)&&r<=c[0]?{weight:1,color:"grey",fillOpacity:.5,fillColor:"rgb(49, 54, 149)"}:r>c[0]&&r<=c[1]?{weight:1,color:"grey",fillOpacity:.5,fillColor:"rgb(69, 117, 180)"}:r>c[1]&&r<=c[2]?{weight:1,color:"grey",fillOpacity:.5,fillColor:"rgb(116, 173, 209)"}:r>c[2]&&r<=c[3]?{weight:1,color:"grey",fillOpacity:.5,fillColor:"rgb(171, 217, 233)"}:r>c[3]&&r<=c[4]?{weight:1,color:"grey",fillOpacity:.5,fillColor:"rgb(224, 243, 248)"}:r>c[4]&&r<=c[5]?{weight:1,color:"grey",fillOpacity:.5,fillColor:"rgb(255, 255, 191)"}:r>c[5]&&r<=c[6]?{weight:1,color:"grey",fillOpacity:.5,fillColor:"rgb(254, 224, 144)"}:r>c[6]&&r<=c[7]?{weight:1,color:"grey",fillOpacity:.5,fillColor:"rgb(253, 174, 97)"}:r>c[7]&&r<=c[8]?{weight:1,color:"grey",fillOpacity:.5,fillColor:"rgb(244, 109, 67)"}:r>c[8]&&r<=c[9]?{weight:1,color:"grey",fillOpacity:.5,fillColor:"rgb(215, 48, 39)"}:r>c[9]&&r<=1/0?{weight:1,color:"grey",fillOpacity:.5,fillColor:"rgb(165, 0, 38)"}:{weight:13,color:"blue",fillOpacity:0}})}},function(t,e){"use strict";t.exports=function(t,e,o,r){function n(t){var e=t.toString().split(".");return e[0].length>=4&&(e[0]=e[0].replace(/(\d)(?=(\d{3})+$)/g,"$1,")),e[1]&&e[1].length>=4&&(e[1]=e[1].replace(/(\d{3})/g,"$1 ")),e.join(".")}var a=0,i=1,l=1;e<100&&(a=1,i=10,l=.1),e<10&&(a=2,i=100,l=.01),e<1&&(a=3,i=1e3,l=.001);var s="";"3"!==o&&"4"!==o||(s="%");var c=[];c.push({rgb_string:"rgba(49, 54, 149, 0.5)",lowtext:"",operator:"<=",hightext:n(r[0].toFixed(a))+s}),c.push({rgb_string:"rgba(69, 117, 180, 0.5)",lowtext:n((Math.round(r[0]*i)/i+l).toFixed(a))+s,operator:"to",hightext:n(r[1].toFixed(a))+s}),c.push({rgb_string:"rgba(116, 173, 209, 0.5)",lowtext:n((Math.round(r[1]*i)/i+l).toFixed(a))+s,operator:"to",hightext:n(r[2].toFixed(a))+s}),c.push({rgb_string:"rgba(171, 217, 233, 0.5)",lowtext:n((Math.round(r[2]*i)/i+l).toFixed(a))+s,operator:"to",hightext:n(r[3].toFixed(a))+s}),c.push({rgb_string:"rgba(224, 243, 248, 0.5)",lowtext:n((Math.round(r[3]*i)/i+l).toFixed(a))+s,operator:"to",hightext:n(r[4].toFixed(a))+s}),c.push({rgb_string:"rgba(255, 255, 191, 0.5)",lowtext:n((Math.round(r[4]*i)/i+l).toFixed(a))+s,operator:"to",hightext:n(r[5].toFixed(a))+s}),c.push({rgb_string:"rgba(254, 224, 144, 0.5)",lowtext:n((Math.round(r[5]*i)/i+l).toFixed(a))+s,operator:"to",hightext:n(r[6].toFixed(a))+s}),c.push({rgb_string:"rgba(253, 174, 97, 0.5)",lowtext:n((Math.round(r[6]*i)/i+l).toFixed(a))+s,operator:"to",hightext:n(r[7].toFixed(a))+s}),c.push({rgb_string:"rgba(244, 109, 67, 0.5)",lowtext:n((Math.round(r[7]*i)/i+l).toFixed(a))+s,operator:"to",hightext:n(r[8].toFixed(a))+s}),c.push({rgb_string:"rgba(215, 48, 39, 0.5)",lowtext:n((Math.round(r[8]*i)/i+l).toFixed(a))+s,operator:"to",hightext:n(r[9].toFixed(a))+s}),c.push({rgb_string:"rgba(165, 0, 38, 0.5)",lowtext:n((Math.round(r[9]*i)/i+l).toFixed(a))+s,operator:"+",hightext:""});for(var d="<table style='border: 0px solid #fff; box-shadow: none; background-color: #fff; line-height:12px;'>",p=0;p<c.length;p++)d+="<tr><td style='text-align: center;'><span style='color: "+c[p].rgb_string+"'>&block;</span></td><td style='text-align: right;'>"+c[p].lowtext+"</td><td style='text-align: center;'>"+c[p].operator+"</td><td style='text-align: left;'>"+c[p].hightext+"</td></tr>";"1"===o&&(d+="<tr><td colspan='4'>Net Migration<br/>in selected age groups</td></tr></table>"),"2"===o&&(d+="<tr><td colspan='4'>Migration Rate<br/>in selected age groups<br/>from year to year</td></tr></table>"),"4"===o&&(d+="<tr><td colspan='4'>Percent of population<br/>of selected age groups<br/>for the year selected</td></tr></table>"),"3"===o&&(d+="<tr><td colspan='4'>Total population<br/>of selected age groups<br/>for the year selected</td></tr></table>"),"5"===o&&(d+="<tr><td colspan='4'>Births per 1,000 people</td></tr></table>"),"6"===o&&(d+="<tr><td colspan='4'>Deaths per 1,000 people</td></tr></table>"),"7"===o&&(d+="<tr><td colspan='4'>Difference between births<br/>and deaths per 1,000 people</td></tr></table>"),"8"===o&&(d+="<tr><td colspan='4'>Change in population<br/>per 1,000 people<br/>due to migration</td></tr></table>"),"10"===o&&(d+="<tr><td colspan='4'>Total number of deaths</td></tr></table>"),"9"===o&&(d+="<tr><td colspan='4'>Total number of births</td></tr></table>"),"11"===o&&(d+="<tr><td colspan='4'>Total population change<br/>due to births and deaths</td></tr></table>"),"12"===o&&(d+="<tr><td colspan='4'>Total population change<br/>due to migration</td></tr></table>");var u=document.getElementById("legend-control");u.innerHTML=d}},function(t,e){"use strict";t.exports=function(t){var e=L.control({position:"topleft"});e.onAdd=function(){var t=L.DomUtil.create("div","bord");return t.id="caption_control",t.innerHTML="",t.style.background="white",t},e.addTo(t);var o=document.getElementById("caption_control");o.addEventListener("dblclick",function(t){t=t||window.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}),o.addEventListener("mousemove",function(t){t=t||window.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0})}}]);