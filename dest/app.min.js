webpackJsonp([0],[function(t,e,n){"use strict";var i=new Promise(function(t){var e=n(1),i=new e;i.postMessage("start"),i.onmessage=function(e){t(e.data)}});document.addEventListener("DOMContentLoaded",function(){n(2),n(6),n(8),n(10);var t=n(12)(),e=L.map("map",{center:[39,-105.4],zoom:7,layers:[t.nolabel],zoomControl:!1});n(13)(e),n(14)(e),n(15)(e),L.control.zoom({position:"topright"}).addTo(e),n(16)(e),n(18)(e,t),i.then(function(t){var i=new Promise(function(i){n(19)(e,t[0],i)});i.then(function(i){n(!function(){var t=new Error('Cannot find module "./add_custom_control.js"');throw t.code="MODULE_NOT_FOUND",t}())(e,i,t)})})})},function(t,e,n){t.exports=function(){return new Worker(n.p+"/hash.worker.js")}},function(t,e,n){var i=n(3);"string"==typeof i&&(i=[[t.id,i,""]]);n(5)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".leaflet-modal{visibility:hidden;pointer-events:none}.leaflet-modal .overlay{position:absolute;width:100%;height:100%;display:block;background:#222;opacity:0;filter:alpha(opacity=0);z-index:10001;transition:opacity .75s linear}.leaflet-modal .close{-webkit-appearance:none;padding:10px;right:-5px;cursor:pointer;background:0 0;border:0;float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)}.leaflet-modal .close:hover{opacity:.8;filter:alpha(opacity=80)}.leaflet-modal .modal{display:block;left:auto;margin-right:auto;margin-left:auto;margin-top:auto;position:relative;box-sizing:border-box;z-index:10002;overflow:auto;height:100%}.leaflet-modal .modal-content{padding:0;background:#fff;box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:4px;outline:0;margin:100% auto 40px;max-width:600px}.leaflet-modal.show{width:100%;height:100%;visibility:visible;pointer-events:visible}.leaflet-modal.show .modal-content{margin-top:40px}.leaflet-modal.show .overlay{opacity:.6;filter:alpha(opacity=60)}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=h[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(c(i.parts[r],e))}else{for(var a=[],r=0;r<i.parts.length;r++)a.push(c(i.parts[r],e));h[i.id]={id:i.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},i=0;i<t.length;i++){var o=t[i],r=o[0],a=o[1],s=o[2],l=o[3],c={css:a,media:s,sourceMap:l};n[r]?n[r].parts.push(c):e.push(n[r]={id:r,parts:[c]})}return e}function r(t,e){var n=m(),i=y[y.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",r(t,e),e}function c(t,e){var n,i,o;if(e.singleton){var r=b++;n=v||(v=s(e)),i=d.bind(null,n,r,!1),o=d.bind(null,n,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),i=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),i=u.bind(null,n),o=function(){a(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function d(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function u(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,i=e.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var h={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=f(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),m=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,b=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return i(n,e),function(t){for(var r=[],a=0;a<n.length;a++){var s=n[a],l=h[s.id];l.refs--,r.push(l)}if(t){var c=o(t);i(c,e)}for(var a=0;a<r.length;a++){var l=r[a];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete h[l.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var i=n(7);"string"==typeof i&&(i=[[t.id,i,""]]);n(5)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".leaflet-bar button,.leaflet-bar button:hover{background-color:#fff;border:none;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar button{background-position:50% 50%;background-repeat:no-repeat;overflow:hidden;display:block}.leaflet-bar button:hover{background-color:#f4f4f4}.leaflet-bar button:first-of-type{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar button:last-of-type{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar.disabled,.leaflet-bar button.disabled{cursor:default;pointer-events:none;opacity:.4}.easy-button-button .button-state{display:block;width:100%;height:100%;position:relative}.leaflet-touch .leaflet-bar button{width:30px;height:30px;line-height:30px}",""])},function(t,e,n){var i=n(9);"string"==typeof i&&(i=[[t.id,i,""]]);n(5)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,"body,head,html{width:100%;height:100%;margin:0;padding:0;overflow-x:hidden!important;overflow-y:hidden!important;font-family:Source Sans Pro,sans-serif}table{letter-spacing:1.5px}#map{width:100%;height:100%;cursor:grab!important;overflow-x:hidden!important;overflow-y:hidden!important}button.ui-button-icon-only{width:24px!important;height:24px!important}.command,.leaflet-container,.title,button,input,keygen,select,table,textarea{font-family:Source Sans Pro,sans-serif}circle{cursor:pointer}path{cursor:grab!important}.btn{color:red;cursor:pointer}a.btn{text-decoration:none;outline:none}a.btn strong{line-height:30px}a.btn:hover{text-decoration:none}a.btn span{z-index:10;display:none;padding:14px 20px;margin-top:-30px;margin-left:28px;line-height:16px}a.btn:hover span{display:inline;position:absolute;color:#111;border:1px solid #dca;background:#fffaf0}.callout{z-index:20;position:absolute;top:0;border:0;left:-12px}a.btn span{border-radius:0;box-shadow:5px 5px 8px #ccc;padding:5px;margin:0}a:hover{color:#c33;text-decoration:underline}.sl{bottom:25px;left:40px}.command{border-radius:10px;background:#fff;border:1px solid #ddd;color:#6e6e6e;font-size:12px;cursor:default}#caption_control{min-height:30px;padding:0 10px;min-width:100px}#caption_control p{padding:0;color:#6e6e6e;font-size:14px;vertical-align:baseline;text-align:center;margin:5px auto 3px}.command input{cursor:pointer}.title h2{cursor:default}li.ui-state-active a,li.ui-tabs-active a{cursor:default!important}.title{border-radius:6px;background:#fff;border:1px solid #ddd;color:#141414;font-size:12px}.spanindent{margin:20px;color:#999}.spanindent a{color:#999}h4{font-size:13px;margin-bottom:1px;margin-top:5px;color:#000}label{display:block;padding-left:15px;text-indent:-15px}input.leg{width:13px;height:13px;padding:0;margin:0;vertical-align:bottom;position:relative;top:-3px;*overflow:hidden}.desctext{color:grey}.modal{cursor:default}h4.command{font-size:13px;margin-bottom:1px;margin-top:5px;color:#323232;padding:0;background:none;border-width:0}.leaflet-control-command-interior{width:260px;height:100px;display:block;padding:3px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;border:1px solid #999;border-color:rgba(0,0,0,.4);box-shadow:none;cursor:default;text-align:center;background-color:#fff;color:rgba(0,0,0,.75);z-index:10}h2{margin:10px}.title h2{margin:0}hr{margin:5px}.bord{padding:10px;border:2px solid #ccc}.modal-inner{padding:20px}table{border:1px solid #ccc;table-layout:fixed;color:#111;font-size:12px;text-shadow:1px 1px 0 #fff;background:#fafafa;margin:5px;border-radius:3px;box-shadow:0 1px 2px #d1d1d1;word-wrap:break-word!important;margin:0 auto}th{background:#eee;text-align:center}td{padding-left:5px;padding-right:5px}#modaltable td{padding-right:15px}a.btn{padding:2px}.h3,h3{font-size:20px}.abbrev td{max-width:50%;padding:2px 10px}.leaflet-div-icon1{border:2px solid hsla(0,0%,100%,.7);color:#fff;text-align:center;border-radius:50%;font-size:16px;line-height:16px}.leaflet-div-icon2{border:1.5px solid hsla(0,0%,100%,.7);color:#fff;text-align:center;border-radius:55%;font-size:11px;line-height:11px}.leaflet-div-icon3{border:1px solid hsla(0,0%,100%,.7);color:#fff;text-align:center;border-radius:60%;font-size:7px;line-height:7px}.abbrev td{font-size:12px}@media (max-width:599px){#slider,.command,.leaflet-control-layers,.title{display:none}.ifmobile{display:visible}.notmobile{display:none}}@media (min-width:600px){#slider,.command,.leaflet-control-layers,.title{display:visible}.ifmobile{display:none}.notmobile{display:visible}}.main_content{width:540px;min-height:50px}.container,.main_content{height:auto;position:relative}.container{width:300px;margin:0 auto;padding:10px}.mbutton{width:125px}.selto{display:none}",""])},function(t,e,n){var i=n(11);"string"==typeof i&&(i=[[t.id,i,""]]);n(5)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,"ul.tab{width:540px;list-style-type:none;margin:0;padding:0;overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}ul.tab li{float:left}ul.tab li a{display:inline-block;color:#000;text-align:center;padding:14px 16px;text-decoration:none;transition:.3s;font-size:17px}ul.tab li a:hover{background-color:#ddd}.active,ul.tab li a:focus{background-color:#ccc}.tabcontent{display:none;width:540px;border:1px solid #ccc;border-top:none;animation:fadeEffect 1s}@keyframes fadeEffect{0%{opacity:0}to{opacity:1}}",""])},function(t,e){"use strict";t.exports=function(){var t={};return t.mbAttr="© <a href='https://www.mapbox.com/map-feedback/'>Mapbox</a> | © <a href='https://www.openstreetmap.org/copyright'><span class='ifmobile'>OSM</span><span class='notmobile'>OpenStreetMap</span> Contributors</a> | <a href='#' id='devcred'>Credits</a><span id='ifmobile' class='ifmobile' ></span>",t.mbUrl="https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic3RhdGVjb2RlbW9nIiwiYSI6Ikp0Sk1tSmsifQ.hl44-VjKTJNEP5pgDFcFPg",t.emerald=L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',tileSize:512,maxZoom:18,zoomOffset:-1,id:"mapbox/outdoors-v11",accessToken:"pk.eyJ1Ijoic3RhdGVjb2RlbW9nIiwiYSI6Ikp0Sk1tSmsifQ.hl44-VjKTJNEP5pgDFcFPg"}),t.classic=L.tileLayer(t.mbUrl,{id:"mapbox.streets-basic",attribution:t.mbAttr}),t.light=L.tileLayer(t.mbUrl,{id:"mapbox.light",attribution:t.mbAttr}),t.nolabel=L.tileLayer("https://api.mapbox.com/styles/v1/statecodemog/ciq0yl9wf000ebpndverm5ler/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoic3RhdGVjb2RlbW9nIiwiYSI6Ikp0Sk1tSmsifQ.hl44-VjKTJNEP5pgDFcFPg",{attribution:t.mbAttr}),t}},function(t,e){"use strict";t.exports=function(t){var e=L.control({position:"bottomright"});e.onAdd=function(){var t=L.DomUtil.create("div","title bord");return t.id="legend-control",t.innerHTML="Loading Data, Please Wait",t.style.color="#d00",t},e.addTo(t)}},function(t,e){"use strict";t.exports=function(t){var e='<table class="abbrev"><h3>Development Credits</h3><ul><li><a href="http://leafletjs.com/" target="_blank">Leaflet Mapping Library</a> - <a href="http://agafonkin.com/en/" target="_blank">Vladimir Agafonkin</a></li><li><a href="https://d3js.org/" target="_blank">D3 Data Visualization Library</a> - <a href="https://bost.ocks.org/mike/" target="_blank">Mike Bostock</a></li><li><a href="https://github.com/teralytics/Leaflet.D3SvgOverlay" target="_blank">Leaflet D3 Overlay Plugin</a> - <a href="http://www.teralytics.net/" target="_blank">Teralytics</a></li><li><a href="https://github.com/w8r/Leaflet.Modal" target="_blank">Leaflet Modal Plugin</a> - Alexander Milevski</li><li><a href="https://github.com/eligrey/FileSaver.js" target="_blank">FileSaver Plugin</a> - <a href="https://eligrey.com/" target="_blank">Eli Grey</a></li><li><a href="https://github.com/fgnass/spin.js" target="_blank">Spin.js</a> - <a href="https://twitter.com/fgnass" target="_blank">Felix Gnass</a></li><li><a href="https://github.com/makinacorpus/Leaflet.Spin" target="_blank">Leaflet Spin</a> - <a href="http://makina-corpus.com/" target="_blank">Makina Corpus</a></li><li><a href="https://github.com/exupero/saveSvgAsPng" target="_blank">SaveSvgAsPng</a> - <a href="http://exupero.org/" target="_blank">Eric Shull</a></li><li><a href="https://github.com/CliffCloud/Leaflet.EasyButton" target="_blank">Leaflet Easy Button</a> - <a href="http://danielmontague.com/" target="_blank">Daniel Montague</a></li><li><a href="https://github.com/FortAwesome/Font-Awesome" target="_blank">Font Awesome</a> - <a href="https://twitter.com/davegandy" target="_blank">Dave Gandy</a></li><li><a href="" target="_blank">Waterfall Chart</a></ul><p>This Application works best on Chrome, Firefox, Safari, Internet Explorer (versions 10+), and Microsoft Edge.  It has been tested on a limited number of mobile devices.<p>',n=function(){t.openModal({content:e})},i=function(){var t=document.getElementById("devcred");t.addEventListener("click",n)};i(),t.on("baselayerchange",function(){i()})}},function(t,e){"use strict";t.exports=function(t){var e=L.control({position:"topleft"});e.onAdd=function(){var t=L.DomUtil.create("div","title bord");return t.innerHTML="<h2>Migration by Age Groups</h2>",t},e.addTo(t)}},function(t,e,n){"use strict";t.exports=function(t){n(17),L.easyButton({id:"easy-button",position:"topright",type:"animate",leafletClasses:!0,states:[{stateName:"get-center",onClick:function(t,e){e.spin(!0);var n=document.getElementById("stat"),i=document.getElementById("selfrom"),o=document.getElementById("selto"),r=$("#agegroups").val(),a=encodeURIComponent(window.location.origin+window.location.pathname+"index.html?print=yes&stat="+n.value+"&from="+i.value+"&to="+o.value+"&age="+r);console.log(a);var s=document.createElement("a");s.href="https://gis.dola.colorado.gov/phantom/screenshot?website="+a+"&filename=agemap&timer=10000&width=900",document.body.appendChild(s),s.click(),setTimeout(function(){e.spin(!1)},15e3)},title:"Save PNG Image",icon:"fa-floppy-o"}]}).addTo(t)}},function(t,e){!function(){function t(t,n){this.title=t.title,this.stateName=t.stateName?t.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=e(t.icon),this.onClick=L.Util.bind(t.onClick?t.onClick:function(){},n)}function e(t){var e;return t.match(/[&;=<>"']/)?e=t:(t=t.replace(/(^\s*|\s*$)/g,""),e=L.DomUtil.create("span",""),0===t.indexOf("fa-")?L.DomUtil.addClass(e,"fa "+t):0===t.indexOf("glyphicon-")?L.DomUtil.addClass(e,"glyphicon "+t):L.DomUtil.addClass(e,t),e=e.outerHTML),e}L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function(t,e){e&&L.Util.setOptions(this,e),this._buildContainer(),this._buttons=[];for(var n=0;n<t.length;n++)t[n]._bar=this,t[n]._container=t[n].button,this._buttons.push(t[n]),this.container.appendChild(t[n].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function(t){this._map=t;for(var e=0;e<this._buttons.length;e++)this._buttons[e]._map=t;var n=this._container=this.onAdd(t),i=this.getPosition(),o=t._controlCorners[i];return L.DomUtil.addClass(n,"leaflet-control"),i.indexOf("bottom")!==-1?o.insertBefore(n,o.firstChild):o.appendChild(n),this}}),L.easyBar=function(){for(var t=[L.Control.EasyBar],e=0;e<arguments.length;e++)t.push(arguments[e]);return new(Function.prototype.bind.apply(L.Control.EasyBar,t))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0},initialize:function(e,n,i,o){this.options.states=[],null!=o&&(this.options.id=o),this.storage={},"object"==typeof arguments[arguments.length-1]&&L.Util.setOptions(this,arguments[arguments.length-1]),0===this.options.states.length&&"string"==typeof e&&"function"==typeof n&&this.options.states.push({icon:e,onClick:n,title:"string"==typeof i?i:""}),this._states=[];for(var r=0;r<this.options.states.length;r++)this._states.push(new t(this.options.states[r],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create("button",""),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",function(t){L.DomEvent.stop(t),this._currentState.onClick(this,this._map?this._map:null),this._map.getContainer().focus()},this),"replace"==this.options.type)this.button.appendChild(this._currentState.icon);else for(var t=0;t<this._states.length;t++)this.button.appendChild(this._states[t].icon)},_currentState:{stateName:"unnamed",icon:function(){return document.createElement("span")}()},_states:null,state:function(t){return"string"==typeof t?this._activateStateNamed(t):"number"==typeof t&&this._activateState(this._states[t]),this},_activateStateNamed:function(t){for(var e=0;e<this._states.length;e++)this._states[e].stateName==t&&this._activateState(this._states[e])},_activateState:function(t){if(t!==this._currentState){"replace"==this.options.type&&(this.button.appendChild(t.icon),this.button.removeChild(this._currentState.icon)),t.title?this.button.title=t.title:this.button.removeAttribute("title");for(var e=0;e<this._states.length;e++)L.DomUtil.removeClass(this._states[e].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[e].icon,t.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,t.stateName+"-active"),this._currentState=t}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},removeFrom:function(t){return this._container.parentNode.removeChild(this._container),this._map=null,this},onAdd:function(){var t=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._container=t.container,this._container}}),L.easyButton=function(){var t=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,t))}}()},function(t,e){"use strict";t.exports=function(t,e){var n={Default:e.nolabel,"Mapbox Emerald":e.emerald};L.control.layers(n,null).addTo(t)}},function(t,e,n){"use strict";t.exports=function(t,e,i){var o=n(20),r=n(32),a=new L.geoJson(null,{style:function(){return{weight:1,color:"grey",fillOpacity:0}},onEachFeature:function(n,i){i.on("click",function(n){o(n,e,t)}),i.on("mouseover",function(t){i.setStyle({opacity:1,weight:2,color:"cyan"}),L.Browser.ie||L.Browser.opera||i.bringToFront(),r(t,e)}),i.on("mouseout",function(){document.getElementById("caption_control").innerHTML="<p></p>",i.setStyle({opacity:1,weight:1,color:"grey"})})}}).addTo(t),s=new XMLHttpRequest;s.open("GET","data/counties.geojson"),s.send(null),s.onreadystatechange=function(){if(4===s.readyState){var e=JSON.parse(s.responseText);a.addData(e),n(33)(t),i(a)}}}},function(t,e,n){"use strict";var i=n(21)(),o=n(22),r=n(23);t.exports=function(t,e,a){var s=o();r(e,s[0],function(e){var o=new i(e),r="<ul id='tabbedbrowsing' class='tab'><li><a href='#' id='tab_table' class='tablinks active'>Table</a></li><li><a href='#' id='tab_chart' class='tablinks'>Chart</a></li></ul><div id='tablediv' class='tabcontent' style='display: block;'><br /><h2 style='text-align: center'>"+t.target.feature.properties.NAME+" County,&nbsp;&nbsp;"+o.first_year+" to "+o.last_year+"</h2><br /><table id='modaltable'>",l=parseInt(t.target.feature.properties.COUNTYFP,10),c=" style='font-weight: 900'";r+="<tr><th>Statistic</th><th>Value</th><th>Percent</th></tr>",r+="<tr><td>Population "+o.first_year+":</td><td style='text-align: right'>"+parseInt(o.retrieveCountyPop(l,o.first_year)).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td></td></tr>",r+="<tr><td>Population "+o.last_year+":</td><td style='text-align: right'>"+parseInt(o.retrieveCountyPop(l,o.last_year)).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td></td></tr>",r+="<tr"+("1"===s[1]||"2"===s[1]?c:"")+"><td>Total Population Change:</td><td style='text-align: right'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+o.retrieveTtlPopChg(l).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td style='text-align: right'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+parseFloat(o.retrievePctPopChg(l)).toLocaleString(void 0,{maximumFractionDigits:1})+" %</td></tr>",r+="<tr"+("3"===s[1]||"4"===s[1]?c:"")+"><td>Avg Population Change:</td><td style='text-align: right'>"+o.retrieveAvgPopChg(l).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td style='text-align: right'>"+parseFloat(o.retrieveAvgPctPopChg(l)).toLocaleString(void 0,{maximumFractionDigits:1})+" %</td></tr>",r+="<tr"+("9"===s[1]?c:"")+"><td>Total Births:</td><td style='text-align: right'>"+o.retrieveTtlBirths(l).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td></td></tr>",r+="<tr"+("5"===s[1]?c:"")+"><td>Birth Rate per 1,000 Pop:</td><td style='text-align: right'>"+o.retrieveBirthRate(l).toLocaleString(void 0,{maximumFractionDigits:1})+"</td><td></td></tr>",r+="<tr"+("10"===s[1]?c:"")+"><td>Total Deaths:</td><td style='text-align: right'>"+o.retrieveTtlDeaths(l).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td></td></tr>",r+="<tr"+("6"===s[1]?c:"")+"><td>Death Rate per 1,000 Pop:</td><td style='text-align: right'>"+o.retrieveDeathRate(l).toLocaleString(void 0,{maximumFractionDigits:1})+"</td><td></td></tr>",r+="<tr"+("11"===s[1]||"7"===s[1]?c:"")+"><td>Total Natural Increase:</td><td style='text-align: right'>"+o.retrieveNatIncrease(l).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td style='text-align: right'>"+o.retrieveRateNaturalIncrease(l).toLocaleString(void 0,{maximumFractionDigits:2})+" %</td></tr>",r+="<tr"+("12"===s[1]?c:"")+"><td>Total Migration:</td><td style='text-align: right'>"+o.retrieveTtlMigration(l).toLocaleString(void 0,{maximumFractionDigits:0})+"</td><td></td></tr>",r+="<tr"+("8"===s[1]?c:"")+"><td>Migration Rate per 1,000:&nbsp;&nbsp;&nbsp;</td><td style='text-align: right'>"+o.retrieveMigrationRate(l).toLocaleString(void 0,{maximumFractionDigits:1})+"</td><td></td></tr>",r+="</table><br /><div class='main_content'><div class='container'><button class='mbutton' id='dlthis'>Download Table</button><button class='mbutton' id='dlall' style='float: right;'>Download All Data</button></div></div><br /></div><div id='chartdiv' class='tabcontent'><br /><div id='chart_wrapper'><svg id='wf_chart'></svg></div><br /><div class='main_content'><div class='container'><button class='mbutton' id='t_download'>Download PNG</button><button class='mbutton' id='f_download' style='float: right;'>Full Size PNG</button></div></div><br /></div>",a.openModal({content:r}),n(24)(o,l,t.target.feature.properties.NAME+" County,  "+o.first_year+" to "+o.last_year),n(27)(o,t)})}},function(t,e){"use strict";t.exports=function(){var t=function(t){function e(t){var e="1,3,5,7,9,11,13,14,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125",n=$.ajax({url:"https://gis.dola.colorado.gov/lookups/components?county="+e+"&year="+t,dataType:"json",async:!1});return console.log("https://gis.dola.colorado.gov/lookups/components?county="+e+"&year="+t),n.responseJSON}console.log("Passed");var n=[1,3,5,7,9,11,13,14,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125];this.data=t,this.alldata=this.data;var i=function(){for(var e=5e3,n=0;n<t.length;n++)t[n].year<e&&(e=t[n].year);return e}();this.first_year=i;var o=function(){for(var e=0,n=0;n<t.length;n++)t[n].year>e&&(e=t[n].year);return e}();this.last_year=o;var r=function(){return o-i}();this.number_of_years=r;var a=e(i);this.retrieveCountyPop=function(e,n){for(var i=0,o=0;o<t.length;o++)t[o].countyfips===e&&t[o].year===n&&"netmigration"===t[o].datatype&&(i+=parseInt(t[o].value));return i},this.retrieveTtlCountyPop=function(t,e){for(var n=0,i=0;i<a.length;i++)parseInt(a[i].countyfips)===t&&parseInt(a[i].year)===e&&(n=a[i].estimate,console.log(n));return n},this.retrieveTtlPopChg=function(t){return this.retrieveCountyPop(t,o)-this.retrieveCountyPop(t,i)},this.retrieveTtlPop=function(t){return this.retrieveCountyPop(t,i)},this.getMaxTtlChange=function(){for(var t=-(1/0),e=0;e<n.length;e++){var r=this.retrieveCountyPop(n[e],o)-this.retrieveCountyPop(n[e],i);r>t&&(t=r)}return t},this.getMinTtlChange=function(){for(var t=1/0,e=0;e<n.length;e++){var r=this.retrieveCountyPop(n[e],o)-this.retrieveCountyPop(n[e],i);r<t&&(t=r)}return t},this.getMaxTtl=function(){for(var t=-(1/0),e=0;e<n.length;e++){var o=this.retrieveCountyPop(n[e],i);o>t&&(t=o)}return t},this.getMinTtl=function(){for(var t=1/0,e=0;e<n.length;e++){var o=this.retrieveCountyPop(n[e],i);o<t&&(t=o)}return t},this.retrieveAvgPopChg=function(t){return this.retrieveTtlPopChg(t)/r},this.getMaxAvgPopChg=function(){for(var t=-(1/0),e=0;e<n.length;e++){var i=parseFloat(this.retrieveAvgPopChg(n[e]));i>t&&(t=i)}return t},this.getMinAvgPopChg=function(){for(var t=1/0,e=0;e<n.length;e++){var i=parseFloat(this.retrieveAvgPopChg(n[e]));i<t&&(t=i)}return t},this.getMedianTotalPop=function(){for(var t=[],e=0;e<n.length;e++){var i=parseFloat(this.retrieveTtlPop(n[e]));t.push(i)}t.sort(function(t,e){return t-e});var o=Math.floor(t.length/2);return t.length%2?t[o]:(t[o-1]+t[o])/2},this.retrievePctPopChg=function(t){var e=(this.retrieveTtlPopChg(t)/this.retrieveCountyPop(t,i)*100).toFixed(2);return isFinite(e)?e:0},this.retrievePctPop=function(t){var e=(this.retrieveTtlPop(t)/this.retrieveTtlCountyPop(t,i)*100).toFixed(2);return isFinite(e)?e:0},this.getMaxPctChange=function(){for(var t=-(1/0),e=0;e<n.length;e++){var i=parseFloat(this.retrievePctPopChg(n[e]));i>t&&(t=i)}return t},this.getMinPctChange=function(){for(var t=1/0,e=0;e<n.length;e++){var i=parseFloat(this.retrievePctPopChg(n[e]));i<t&&(t=i)}return t},this.retrieveAvgPctPopChg=function(t){var e=(100*(Math.pow(this.retrieveCountyPop(t,o)/this.retrieveCountyPop(t,i),1/r)-1)).toFixed(2);return isFinite(e)?e:0},this.getMaxAvgPctPopChg=function(){for(var t=-(1/0),e=0;e<n.length;e++){var i=parseFloat(this.retrieveAvgPctPopChg(n[e]));i>t&&(t=i)}return t},this.getMinAvgPctPopChg=function(){for(var t=1/0,e=0;e<n.length;e++){var i=parseFloat(this.retrieveAvgPctPopChg(n[e]));i<t&&(t=i)}return t},this.getMaxPctPop=function(){for(var t=-(1/0),e=0;e<n.length;e++){var o=this.retrieveCountyPop(n[e],i)/this.retrieveTtlCountyPop(n[e],i);o>t&&(t=o)}return t},this.getMinPctPop=function(){for(var t=1/0,e=0;e<n.length;e++){var o=this.retrieveCountyPop(n[e],i)/this.retrieveTtlCountyPop(n[e],i);o<t&&(t=o)}return t},this.getMedianPctPop=function(){for(var t=[],e=0;e<n.length;e++){var i=parseFloat(this.retrievePctPop(n[e]));t.push(i)}t.sort(function(t,e){return t-e});var o=Math.floor(t.length/2);return t.length%2?t[o]:(t[o-1]+t[o])/2}};return t}},function(t,e){"use strict";t.exports=function(){var t="",e="",n="",i="",o=document.getElementById("stat");if(null===o)t="2010",e="1991",n="2",i="0 to 4";else{var r=document.getElementById("selfrom"),a=document.getElementById("selto");t=parseInt(r.options[r.selectedIndex].value),e=parseInt(a.options[a.selectedIndex].value),n=o.options[o.selectedIndex].value}for(var s="",l=t;l<=e;l++)l!==t&&(s+=","),s+=l;""===s&&(s=String(t));for(var c=document.getElementById("agegroups"),d=c.selectedOptions,u=0;u<d.length;u++)0!==u&&(i+=","),i+=d[u].value;return""===i&&(i="0 to 4"),[i,s,n]}},function(t,e){"use strict";t.exports=function(t,e,n,i){var o=e.split(","),r=n.split(","),a=t.filter(function(t){for(var e=0;e<o.length;e++)for(var n=0;n<r.length;n++)if(t.age===o[e]&&t.year===parseInt(r[n]))return!0;return!1});i&&i(a)}},function(t,e,n){"use strict";var i=n(25)();t.exports=function(t,e,o){function r(t){var e=t+p,n=p;return e>c&&(n=p-(e-c)),n}function a(t,e){var n=t+1*p,i=t+e*p;return n>c&&(i=t+(p-(n-c))*e),i}var s=n(26),l=t.first_year,c=t.last_year,d=[],u=d3.format(",.0f"),p=1;c-l>10&&(p=2),c-l>20&&(p=3),c-l>30&&(p=4),c-l>40&&(p=5),d.push({x:l,class:"total",value:Number(t.retrieveCountyPop(e,l)),title:l+" Population: "+u(Number(t.retrieveCountyPop(e,l))),barscale:p});for(var h=function(n){for(var i=0,o=n+1;o<=n+p;o++)i+=Number(t.retrieveCountyBirths(e,o));return i},f=function(n){for(var i=0,o=n+1;o<=n+p;o++)i+=-Number(t.retrieveCountyDeaths(e,o));return i},g=function(n){for(var i=0,o=n+1;o<=n+p;o++)i+=Number(t.retrieveCountyMigration(e,o));return i},m=function(t){if(1===p)return t;var e=t+1*p;return e>c?t===c-1?t:t+" - "+(c-1):t+" - "+(e-1)},v=function(n){d.push({x:a(n,.25),value:h(n),class:"birth",title:m(n)+" Births: "+u(h(n)),barscale:r(n)}),d.push({x:a(n,.5),value:f(n),class:"death",title:m(n)+" Deaths: "+u(-f(n)),barscale:r(n)}),d.push({x:a(n,.75),value:g(n),class:"migration",title:m(n)+" Migration: "+u(g(n)),barscale:r(n)}),d.push({x:function(){var t=n+1*p;return t>c&&(t=c),t}(),value:0,class:"total",title:function(){var i=n+1*p;return i>c?c+" Population: "+u(Number(t.retrieveCountyPop(e,c))):n+1*p+" Population: "+u(Number(t.retrieveCountyPop(e,n+1*p)));
}(),barscale:function(){var t=n+p,e=p;return t>c?e=p-(t-c):t+p>c&&(e=c-t,0===e&&(e=p)),e}()})},b=l;b<c;b+=p)v(b);var y=new i;y.title.text=o;var x=new i;x.chart.width=800,x.chart.height=600,x.title.text=o;var w=s("#wf_chart",d,y);w();var _=s("#full_chart",d,x);_()}},function(t,e){"use strict";t.exports=function(){var t=function(){this.chart={},this.chart.width=520,this.chart.height=350,this.chart.font_family="'Source Sans Pro', sans-serif",this.chart.bar_padding=.9,this.margin={},this.margin.top=50,this.margin.right=10,this.margin.bottom=90,this.margin.left=80,this.title={},this.title.text="",this.title.font_size=20,this.title.font_weight=500,this.x_label={},this.x_label.text="Year",this.x_label.font_size=14,this.x_label.font_weight=500,this.y_label={},this.y_label.text="Population",this.y_label.font_size=14,this.y_label.font_weight=500,this.legend=[{class:"total",fill:"steelblue",fill_opacity:.3,stroke:"steelblue",stroke_opacity:.5,stroke_width:1,label:"Totals"},{class:"birth",fill:"darkolivegreen",fill_opacity:.2,stroke:"darkolivegreen",stroke_opacity:1,stroke_width:1,label:"Births"},{class:"death",fill:"crimson",fill_opacity:.2,stroke:"crimson",stroke_opacity:1,stroke_width:1,label:"Deaths"},{class:"migration",fill:"grey",fill_opacity:.2,stroke:"grey",stroke_opacity:1,stroke_width:1,label:"Migration"}]};return t}},function(t,e){"use strict";t.exports=function(t,e,n){return function(){function i(t,e,n){for(var i=e,o=0;o<w.length;o++)t.class===w[o].class&&(i=w[o][n]);return i}for(var o=n.chart.width||520,r=n.chart.height||350,a=n.chart.font_family||"sans-serif",s=n.chart.bar_padding||.9,l=n.margin.top||50,c=n.margin.right||10,d=n.margin.bottom||90,u=n.margin.left||80,p=n.title.text||"",h=n.title.font_size||20,f=n.title.font_weight||500,g=n.x_label.text||"",m=n.x_label.font_size||14,v=n.x_label.font_weight||500,b=n.y_label.text||"",y=n.y_label.font_size||14,x=n.y_label.font_weight||500,w=n.legend||[],_=e[0].x,L=e[e.length-1].x,k=d3.max(e,function(t){return t.barscale})||1,C=0,P=0;P<e.length;P++)e[P].start=C,C+=e[P].value,e[P].end=C;var S=d3.min(e,function(t){return t.end});S=parseInt(.85*S,10);for(var D=0;D<e.length;D++)"total"===e[D].class&&(e[D].start=S);var E=o-u-c,T=r-l-d,F=E/((L-_)*w.length+1);d3.select(t).append("defs").append("pattern").attr("id","diagonalHatch").attr("patternUnits","userSpaceOnUse").attr("width",4).attr("height",4).append("path").attr("d","M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2").attr("stroke","rgb(70,70,70)").attr("stroke-width",.4);var M=d3.scale.linear().range([0,E]),I=d3.scale.linear().range([T,0]),N=d3.svg.axis().scale(M).orient("bottom").ticks(parseInt((L-_)/k)).tickFormat(d3.format("d")),A=d3.svg.axis().scale(I).orient("left"),B=d3.select(t).attr("width",E+u+c).attr("height",T+l+d).append("rect").attr("width","100%").attr("height","100%").attr("fill","#fff"),U=d3.select(t).append("g").attr("transform","translate("+u+","+l+")");M.domain([_,L+1/w.length*k]),I.domain([S,d3.max(e,function(t){return t.end})]),U.append("g").attr("class","x axis").attr("transform","translate(0,"+T+")").call(N).selectAll("text").attr("y",0).attr("x",9).attr("transform","rotate(90)").style("text-anchor","start"),U.append("g").attr("class","y axis").call(A),U.selectAll(".axis text").style("font-size","10px"),U.selectAll(".axis path, .axis line").style("fill","none").style("stroke","#000").attr("shape-rendering","crispEdges");var R=U.selectAll(".bar").data(e).enter().append("g").attr("class",function(t){return"bar "+t.class}).attr("transform",function(t){return"translate("+M(t.x)+",0)"}),O=R.append("rect").attr("y",function(t){return I(Math.max(t.start,t.end))}).attr("height",function(t){return Math.abs(I(t.start)-I(t.end))}).attr("width",function(t){return t.barscale?F*t.barscale*s:F*s}).style("fill",function(t){return i(t,"grey","fill")}).style("fill-opacity",function(t){return i(t,.2,"fill_opacity")}).style("stroke-width",function(t){return i(t,1,"stroke_width")}).style("stroke",function(t){return i(t,"grey","stroke")}).style("stroke-opacity",function(t){return i(t,1,"stroke_opacity")}).on("mouseover",function(){d3.select(this).style("fill-opacity",1)}).on("mouseout",function(){d3.select(this).style("fill-opacity",function(t){return i(t,.2,"fill_opacity")})});if(R.append("rect").attr("y",function(t){return I(Math.max(t.start,t.end))}).attr("height",function(t){return Math.abs(I(t.start)-I(t.end))}).attr("width",function(t){return t.barscale?F*t.barscale*s:F*s}).style("fill",function(t){return t.value<0?"url(#diagonalHatch)":"rgba(255,255,255,0)"}).style("pointer-events","none"),O.append("svg:title").text(function(t){return t.title||""}),n.legend&&n.legend!==[]){var z=U.selectAll(".legend").data(n.legend).enter().append("g").attr("class","legend");z.append("rect").attr("x",function(t,e){return e*(E/w.length)}).attr("y",T+70).attr("width",12).attr("height",12).style("fill",function(t){return t.fill}).style("fill-opacity",function(t){return t.fill_opacity}).style("stroke",function(t){return t.stroke}).style("stroke-opacity",function(t){return t.stroke_opacity}).style("stroke-width",function(t){return t.stroke_width}),z.append("text").attr("x",function(t,e){return 20+e*(E/w.length)}).attr("y",T+77).style("text-anchor","left").text(function(t){return t.label})}""!==p&&d3.select(t).append("text").attr("x",E/2+u).attr("y",l/2+h/2).style("text-anchor","middle").style("font-size",h+"px").style("font-weight",f).text(p),""!==g&&d3.select(t).append("text").attr("x",E/2+u).attr("y",T+l+50).style("text-anchor","middle").style("font-size",m).style("font-weight",v).text(g),""!==b&&d3.select(t).append("text").style("text-anchor","middle").style("font-size",y).style("font-weight",x).attr("transform","translate(20,"+(T/2+l)+") rotate(270)").text(b),U.selectAll("text").style("font-family",a).attr("text-rendering","optimizeLegibility"),B.attr("width","100%").attr("height","100%").attr("fill","#fff")}}},function(t,e,n){"use strict";var i=n(28);t.exports=function(t,e){function n(){var t=document.querySelector("#tabbedbrowsing");t.style.display="none"}function o(t,e){var n,i,o;for(i=document.getElementsByClassName("tabcontent"),n=0;n<i.length;n++)i[n].style.display="none";for(o=document.getElementsByClassName("tablinks"),n=0;n<o.length;n++)o[n].className=o[n].className.replace(" active","");document.getElementById(e).style.display="block",t.currentTarget.className+=" active"}document.getElementById("dlthis").addEventListener("click",function(){var n=e.target.feature.properties.NAME.replace(/\s/g,"");i("modaltable",n+"_"+t.first_year+"_"+t.last_year)},!1),document.getElementById("dlall").addEventListener("click",function(){window.location.href="https://storage.googleapis.com/co-publicdata/components-change-county.csv"},!1),document.getElementById("t_download").addEventListener("click",function(){var t=document.getElementById("wf_chart");saveSvgAsPng(t,"waterfall.png")},!1),document.getElementById("f_download").addEventListener("click",function(){var t=document.getElementById("full_chart");saveSvgAsPng(t,"waterfall_lrg.png")},!1),document.getElementById("tab_table").addEventListener("click",function(t){o(t,"tablediv")},!1),document.getElementById("tab_chart").addEventListener("click",function(t){o(t,"chartdiv")},!1),document.querySelector(".close").addEventListener("click",function(){n()},!1),document.querySelector("div.modal").addEventListener("mousedown",function(){n()},!1)}},function(t,e,n){"use strict";var i=n(29).saveAs;t.exports=function(t,e){var n="",o=0,r=document.getElementById(t),a=r.rows.length;for(o=0;o<a;o++)for(var s=r.rows.item(o).cells,l=s.length,c=0;c<l;c++)0===c&&o>0&&(n+="\n"),n=n+'"'+s.item(c).innerHTML+'"',c<l&&(n+=",");n=n.replace(/&nbsp;/g,"");var d=new Blob([n],{type:"text/csv;charset=utf-8"});i(d,e+".csv")}},function(t,e,n){var i,o,r=r||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in i,r=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),s=t.webkitRequestFileSystem,l=t.requestFileSystem||s||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},d="application/octet-stream",u=0,p=500,h=function(e){var i=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?i():setTimeout(i,p)},f=function(t,e,n){e=[].concat(e);for(var i=e.length;i--;){var o=t["on"+e[i]];if("function"==typeof o)try{o.call(t,n||t)}catch(t){c(t)}}},g=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},m=function(e,c,p){p||(e=g(e));var m,v,b,y=this,x=e.type,w=!1,_=function(){f(y,"writestart progress write writeend".split(" "))},L=function(){if(v&&a&&"undefined"!=typeof FileReader){var i=new FileReader;return i.onloadend=function(){var t=i.result;v.location.href="data:attachment/file"+t.slice(t.search(/[,;]/)),y.readyState=y.DONE,_()},i.readAsDataURL(e),void(y.readyState=y.INIT)}if(!w&&m||(m=n().createObjectURL(e)),v)v.location.href=m;else{var o=t.open(m,"_blank");void 0==o&&a&&(t.location.href=m)}y.readyState=y.DONE,_(),h(m)},k=function(t){return function(){if(y.readyState!==y.DONE)return t.apply(this,arguments)}},C={create:!0,exclusive:!1};return y.readyState=y.INIT,c||(c="download"),o?(m=n().createObjectURL(e),void setTimeout(function(){i.href=m,i.download=c,r(i),_(),h(m),y.readyState=y.DONE})):(t.chrome&&x&&x!==d&&(b=e.slice||e.webkitSlice,e=b.call(e,0,e.size,d),w=!0),s&&"download"!==c&&(c+=".download"),(x===d||s)&&(v=t),l?(u+=e.size,void l(t.TEMPORARY,u,k(function(t){t.root.getDirectory("saved",C,k(function(t){var n=function(){t.getFile(c,C,k(function(t){t.createWriter(k(function(n){n.onwriteend=function(e){v.location.href=t.toURL(),y.readyState=y.DONE,f(y,"writeend",e),h(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&L()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=y["on"+t]}),n.write(e),y.abort=function(){n.abort(),y.readyState=y.DONE},y.readyState=y.WRITING}),L)}),L)};t.getFile(c,{create:!1},k(function(t){t.remove(),n()}),k(function(t){t.code===t.NOT_FOUND_ERR?n():L()}))}),L)}),L)):void L())},v=m.prototype,b=function(t,e,n){return new m(t,e,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return n||(t=g(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(v.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,b)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=r:null!==n(30)&&null!=n(31)&&(i=[],o=function(){return r}.apply(e,i),!(void 0!==o&&(t.exports=o)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){"use strict";var i=n(21)(),o=n(22),r=n(23);t.exports=function(t,e){var n=o();r(e,n[0],n[1],function(e){var o,r=new i(e),a=parseInt(t.target.feature.properties.COUNTYFP,10),s=n[2];"2"===s&&(o=r.retrieveTtlPopChg(a).toLocaleString(void 0,{maximumFractionDigits:0})),"1"===s&&(o=parseFloat(r.retrievePctPopChg(a)).toLocaleString(void 0,{maximumFractionDigits:1})+" %"),"4"===s&&(o=r.retrievePctPop(a).toLocaleString(void 0,{maximumFractionDigits:0})+" %"),"3"===s&&(o=parseFloat(r.retrieveTtlPop(a)).toLocaleString(void 0,{maximumFractionDigits:1})),"9"===s&&(o=r.retrieveTtlBirths(a).toLocaleString(void 0,{maximumFractionDigits:0})),"5"===s&&(o=r.retrieveBirthRate(a).toLocaleString(void 0,{maximumFractionDigits:1})),"10"===s&&(o=r.retrieveTtlDeaths(a).toLocaleString(void 0,{maximumFractionDigits:0})),"6"===s&&(o=r.retrieveDeathRate(a).toLocaleString(void 0,{maximumFractionDigits:1})),"11"===s&&(o=r.retrieveNatIncrease(a).toLocaleString(void 0,{maximumFractionDigits:0})),"7"===s&&(o=r.retrieveRateNaturalIncrease(a).toLocaleString(void 0,{maximumFractionDigits:2})+" %"),"12"===s&&(o=r.retrieveTtlMigration(a).toLocaleString(void 0,{maximumFractionDigits:0})),"8"===s&&(o=r.retrieveMigrationRate(a).toLocaleString(void 0,{maximumFractionDigits:1})),document.getElementById("caption_control").innerHTML="<p>"+t.target.feature.properties.NAME+":&nbsp;&nbsp;&nbsp;"+o+"</p>"})}},function(t,e){"use strict";t.exports=function(t){d3.json("data/county_pts.json",function(e,n){var i=n.map(function(t){return{cname:t.cname,fips:t.fips,latitude:t.y,longitude:t.x,coordinates:L.latLng(t.y,t.x)}}),o=L.d3SvgOverlay(function(t,e){var n=function(t){return t.fips},o=t.selectAll("text").data(i,n);o.enter().append("text").style("text-anchor","middle").style("color","#444").style("font-family","'Source Sans Pro', sans-serif").style("font-size","8pt").attr("x",function(t){return e.latLngToLayerPoint(t.coordinates).x}).attr("y",function(t){return e.latLngToLayerPoint(t.coordinates).y}).text(function(t){return t.cname}).style("pointer-events","none");var r=function(t){var n=d3.select(this),i=t.cname.split("|");n.text("");for(var o=0;o<i.length;o++){var r=n.append("tspan").text(i[o]);o>0&&r.attr("x",e.latLngToLayerPoint(t.coordinates).x).attr("dy","10")}};o.each(r)});t.addLayer(o)})}}]);